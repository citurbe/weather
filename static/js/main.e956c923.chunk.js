(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{32:function(t,e,a){t.exports=a(65)},37:function(t,e,a){},59:function(t,e,a){},63:function(t,e,a){},64:function(t,e,a){},65:function(t,e,a){"use strict";a.r(e);var n,r=a(0),c=a.n(r),i=a(21),o=a.n(i),l=(a(37),a(22)),s=a(23),u=a(24),h=a(30),p=a(25),m=a(5),d=a(31),f=a(6),y=a(3),E=a(8),g=a.n(E),v="http://api.openweathermap.org/data/2.5/forecast",b="a53109715fea3dd987b8d7d9307f9f3b",O=function(t,e){var a="".concat(v,"?q=").concat(t,",us&units=").concat(e?"metric":"imperial","&APPID=").concat(b);return g.a.get(a)},_=function(t,e,a){var n="".concat(v,"?lat=").concat(t,"&lon=").concat(e,"&units=").concat(a?"metric":"imperial","&APPID=").concat(b);return g.a.get(n)},C=function(t,e){var a="".concat(v,"?zip=").concat(t,",us&units=").concat(e?"metric":"imperial","&APPID=").concat(b);return g.a.get(a)},S=function(t){return{type:"RECEIVE_FORECAST",payload:t}},w=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(a){return C(t,e).then(function(t){a(S(t.data))}).catch(function(t){console.error(t)})}},j=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(a){return O(t,e).then(function(t){a(S(t.data))}).catch(function(t){console.error(t)})}},F=function(t,e){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(n){return _(t,e,a).then(function(t){n(S(t.data))}).catch(function(t){console.error(t)})}},k=function(t){return{type:"SET_UNITS",payload:t}},L=(a(59),function(t){function e(t){var a;return Object(s.a)(this,e),(a=Object(h.a)(this,Object(p.a)(e).call(this,t))).state={city:"",lat:"",lon:""},a.handleChange=a.handleChange.bind(Object(m.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(m.a)(a)),a.handleClick=a.handleClick.bind(Object(m.a)(a)),a}return Object(d.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){this.performSearch()}},{key:"performSearch",value:function(t){var e,a=this;e=t?"metric"===t:this.props.metric,this.state.lat&&this.state.lon?this.props.getForecastByLatLon(this.state.lat,this.state.lon,e):this.state.zip?this.props.getForecastByZip(this.state.zip,e):this.state.city?this.props.getForecastByCity(this.state.city,e):"geolocation"in navigator?navigator.geolocation.getCurrentPosition(function(t){t?a.props.getForecastByLatLon(t.coords.latitude,t.coords.longitude,e):console.error("no position found")}):console.error("no geolocation available")}},{key:"handleChange",value:function(t){var e=t.target.name,a=t.target.value;this.setState(Object(l.a)({},e,a))}},{key:"handleSubmit",value:function(t){t.preventDefault(),this.state.lat&&this.state.lon?this.props.getForecastByLatLon(this.state.lat,this.state.lon,this.props.metric):this.state.zip?this.props.getForecastByZip(this.state.zip,this.props.metric):this.state.city&&this.props.getForecastByCity(this.state.city,this.props.metric)}},{key:"handleClick",value:function(t){t.preventDefault();var e=this.props.metric?"imperial":"metric";this.props.setUnits(e),this.performSearch(e)}},{key:"render",value:function(){var t=this.props.metric?"Celcius":"Fahrenheit",e=this.props.metric?"Fahrenheit":"Celcius";return c.a.createElement("div",null,c.a.createElement("form",{onChange:this.handleChange,onSubmit:this.handleSubmit},c.a.createElement("div",{className:"search__container"},c.a.createElement("label",{htmlFor:"city"},"City:"),c.a.createElement("input",{name:"city",type:"text"})),c.a.createElement("p",null,"--OR--"),c.a.createElement("div",{className:"search__container"},c.a.createElement("label",{htmlFor:"lat"},"Latitude:"),c.a.createElement("input",{name:"lat",type:"text"}),c.a.createElement("label",{htmlFor:"lon"},"Longitude:"),c.a.createElement("input",{name:"lon",type:"text"})),c.a.createElement("p",null,"--OR--"),c.a.createElement("div",{className:"search__container"},c.a.createElement("label",{htmlFor:"zip"},"Zip Code:"),c.a.createElement("input",{name:"zip",type:"text"})),c.a.createElement("input",{type:"submit",value:"Search"})),c.a.createElement("div",{className:"search__container"},"Showing temperature in ",t,"."," ",c.a.createElement("a",{href:"",onClick:this.handleClick},"Switch to ",e," ")))}}]),e}(c.a.Component)),N=Object(f.b)(function(t){return{metric:"metric"===t.config.units}},function(t){return Object(y.b)({getForecastByCity:j,getForecastByLatLon:F,getForecastByZip:w,setUnits:k},t)})(L),T={forecast:[]},B=Object(y.c)({weather:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"RECEIVE_FORECAST":return Object.assign({},t,{forecast:e.payload.list});default:return t}},city:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"RECEIVE_FORECAST":return Object.assign({},t,{name:e.payload.city.name,pop:e.payload.city.population});default:return t}},config:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{units:"imperial"},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_UNITS":return Object.assign({},t,{units:e.payload});default:return t}}}),I=a(28),D=a(29),R=(a(60),a(63),function(t){return c.a.createElement("div",{className:"forecast-chart"},c.a.createElement("h4",null,t.title),c.a.createElement(D.a,{colors:[t.color],data:t.data,width:"90%"}))}),A=function(t,e){var a={};return t.forEach(function(t){a[t.dt_txt]=t.main[e]}),a},P=Object(f.b)(function(t){return{forecast:t.weather.forecast,city:t.city.name,pop:t.city.pop}})(function(t){var e=A(t.forecast,"temp"),a=A(t.forecast,"humidity"),n=A(t.forecast,"pressure");return c.a.createElement("div",null,t.city&&c.a.createElement("h3",null,"Showing the weather for ",t.city,t.pop&&", currently being experienced by\n          ".concat(t.pop.toLocaleString()," people!")),Object.keys(e).length>0&&c.a.createElement(R,{color:"blue",title:"Temperature",data:e}),Object.keys(a).length>0&&c.a.createElement(R,{color:"orange",title:"Humidity",data:a}),Object.keys(n).length>0&&c.a.createElement(R,{color:"red",title:"Pressure",data:n}))}),x=(a(64),Object(y.e)(B,n,Object(y.d)(Object(y.a)(I.a),window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__():function(t){return t})));var z=function(){return c.a.createElement(f.a,{store:x},c.a.createElement("div",{className:"App"},c.a.createElement("header",{className:"App-header"},c.a.createElement("h1",null,"How's the weather?")),c.a.createElement(N,null),c.a.createElement(P,null)))};o.a.render(c.a.createElement(z,null),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.e956c923.chunk.js.map